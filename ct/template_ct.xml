<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
<!--
	<template name="button_ct_menu">
		<buttoncontrol name="button_menu">
			<bounds>26,11,40,20</bounds>
			<icon normal="button_menu" pressed="button_menu_down" />
			<tooltip textres="ct_tooltip_menu" />
			<script file="ct/scripts/ct_menu.lua" />
		</buttoncontrol>
	</template>
-->	
	<template name="button_ct_menu">
		<buttoncontrol name="button_menu">
			<bounds>100,-45,40,20</bounds><!--26,11,40,20-->
			<icon normal="button_menu" pressed="button_menu_down" />
			<tooltip textres="ct_tooltip_menu" />
			<script file="ct/scripts/ct_menu.lua" />
		</buttoncontrol>
	</template>
	<template name="label_ct_host_rounds">
		<label_ct>
			<bounds>-158,-43,50,20</bounds>
			<static textres="ct_label_round" />
		</label_ct>
	</template>
	<template name="number_ct_host_rounds">
		<simplenumber name="round">
			<bounds>-108,-43,40,20</bounds>
			<frame name="ct_groupbox" offset="5,5,5,5" />
		</simplenumber>
	</template>
	<template name="label_ct_host_phase">
		<label_ct>
			<bounds>-380,-43,40,20</bounds>
			<static textres="ct_label_phase" />
		</label_ct>
	</template>
	<template name="string_ct_starship_phase">
		<simplestring name="phase">
			<bounds>-335,-43,140,20</bounds>			
			<frame name="ct_groupbox" offset="5,5,5,5" />
		</simplestring>
	</template>
	<template name="button_ct_nextphase">
		<buttoncontrol>
			<anchored width="33" height="26">
				<bottom offset="-19" />
				<right parent="contentanchor" />
			</anchored>
			<icon normal="button_ctnextround" pressed="button_ctnextround_down" />
			<center />
			<tooltip textres="ct_tooltip_nextround" />
			<script>
				function onInit()
					
				end				
				
				function onButtonPress()
					CombatManager2.nextPhase();
				end
				
				function onDragStart(button, x, y, draginfo)
					draginfo.setType("combattrackernextphase");
					draginfo.setIcon("button_ctnextphase");
					
					return true;
				end
			</script>
		</buttoncontrol>
	</template>

	<template name="number_ct_init">
		<number_ct>
			<displaysign />
			<script>
				function action(draginfo)
					local node = window.getDatabaseNode();
					local rActor = ActorManager.getActorFromCT(node);
					ActionInit.performRoll(draginfo, rActor, CombatManager.isCTHidden(node));
					
					return true;
				end
				
				function onDragStart(button, x, y, draginfo)
					return action(draginfo);
				end

				function onDoubleClick(x,y)
					return action();
				end
			</script>
		</number_ct>
	</template>
	<template name="number_ct_save">
		<number_ct>
			<displaysign />
			<script>
				function action(draginfo)
					local rActor = ActorManager.getActorFromCT(window.getDatabaseNode());
					ActionSave.performRoll(draginfo, rActor, target[1]);
					return true;
				end
				
				function onDragStart(button, x, y, draginfo)
					return action(draginfo);
				end

				function onDoubleClick(x,y)
					return action();
				end
			</script>
		</number_ct>
	</template>
	<template name="number_ct_grapple">
		<number_ct>
			<displaysign />
			<script>
				function action(draginfo)
					local rActor = ActorManager.getActorFromCT(window.getDatabaseNode());
					local rAction;
					if rActor.sType == "pc" then
						rAction = CharManager.getCombatManStructures(rActor, "");
					else
						rAction = {};
						rAction.label = "";
						rAction.modifier = getValue();
						rAction.stat = "strength";
					end
					ActionAttack.performCombatManRoll(draginfo, rActor, rAction);
					
					return true;
				end
				
				function onDragStart(button, x, y, draginfo)
					return action(draginfo);
				end

				function onDoubleClick(x,y)
					return action();
				end
			</script>
		</number_ct>
	</template>
	
	<template name="base_clientct_health">
		<genericcontrol name="healthbase">
			<anchored to="rightanchor" width="225" height="20">
				<top />
				<right anchor="left" relation="relative" offset="-10" />
			</anchored>
			<disabled />
		</genericcontrol>
	</template>
	<template name="string_clientct_status">
		<simplestring name="status">
			<anchored to="healthbase" position="over" />
			<frame name="fieldlight" offset="7,5,7,5" />
			<center />
			<static />
			<invisible />
		</simplestring>
	</template>
	<template name="number_clientct_rp">
		<number_ct_static name="rp">
			<anchored to="healthbase" width="30" height="20">
				<top />
				<right />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>	
	<template name="number_clientct_fatique">
		<number_ct_static name="fatique">
			<anchored to="rp" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>	
	<template name="number_clientct_sp">
		<number_ct_static name="sp">
			<anchored to="fatique" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>	
	<template name="number_clientct_wounds">
		<number_ct_static name="wounds">
			<anchored to="sp" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>	
	<template name="number_clientct_hptemp">
		<number_ct_static name="hptemp">
			<anchored to="wounds" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<color>0000AA</color>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>
	<template name="number_clientct_hp">
		<number_ct_static name="hp">
			<anchored to="hptemp" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>
	<template name="number_clientct_nonlethal">
		<number_ct_static name="nonlethal">
			<anchored to="wounds" width="30" height="20">
				<top />
				<right anchor="left" offset="-10" />
			</anchored>
			<script>
				function onValueChanged()
					window.onHealthChanged();
				end
			</script>
		</number_ct_static>
	</template>
	<template name="button_ct_faction_friend">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="-160" />
			</anchored>
			<icon>ct_faction_friend</icon>
			<value>friend</value>
			<tooltip textres="ct_tooltip_factionfriend" />
		</button_ct_friendfoe>
	</template>
	<template name="button_ct_faction_neutral">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="-135" />
			</anchored>
			<icon>ct_faction_neutral</icon>
			<value>neutral</value>
			<tooltip textres="ct_tooltip_factionneutral" />
		</button_ct_friendfoe>
	</template>
	<template name="button_ct_faction_foe">
		<button_ct_friendfoe>
			<anchored>
				<bottom offset="-23" />
				<left anchor="center" offset="-110" />
			</anchored>
			<icon>ct_faction_foe</icon>
			<value>foe</value>
			<tooltip textres="ct_tooltip_factionfoe" />
		</button_ct_friendfoe>
	</template>
	<template name="string_ctentry_targets2">
		<string_ct_summary>
			<script file="ct/scripts/ct_target_summary2.lua" />
		</string_ct_summary>
	</template>
	<template name="string_ctentry_effects2">
		<string_ct_summary>
			<script file="ct/scripts/ct_effect_summary2.lua" />
		</string_ct_summary>
	</template>
	</root>
