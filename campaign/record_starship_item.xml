<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<windowclass name="starshipitem">
		<frame>recordsheet</frame>
		<placement>
			<size width="450" height="500" />
		</placement>
		<sizelimits>
			<minimum width="450" height="500" />
			<dynamic />
		</sizelimits>
		<tooltip field="name" />
		<nodelete />
		<playercontrol />
		<sharable />
		<script file="campaign/scripts/starshipitem.lua" />
		<sheetdata>
			<sub_record_header name="header">
				<class>starshipitem_header</class>
			</sub_record_header>

			<frame_record_content_tabbed name="contentframe" />
			
			<subwindow_record name="main">
				<class>starshipitem_main</class>
				<script file="campaign/scripts/starshipitem_drop.lua" />
			</subwindow_record>
			<subwindow_record name="other">
				<class>starshipitem_other</class>
			</subwindow_record>
			
			<scrollbar_record>
				<target>main</target>
			</scrollbar_record>
			<scrollbar_record>
				<target>other</target>
			</scrollbar_record>
			
			<tabs_recordsheet>
				<tab>
					<icon>tab_main</icon>
					<subwindow>main</subwindow>
				</tab>
				<tab>
					<icon>tab_other</icon>
					<subwindow>other</subwindow>
				</tab>
			</tabs_recordsheet>		

			<resize_recordsheet />
			<close_recordsheet />
		</sheetdata>

	</windowclass>

	<windowclass name="starshipitem_header">
		<margins control="0,0,0,2" />
		<script>
			function update(sTitle)
				local bReadOnly = WindowManager.getReadOnlyState(getDatabaseNode());
				name.setReadOnly(bReadOnly);
				recordtype.update(sTitle);
			end
		</script>
		<sheetdata>
			<link_record_header>
				<class>item</class>
			</link_record_header>

			<anchor_record_header_right />
			<icon_record_locked />
			<button_record_locked />

			<string_record_name name="name">
				<empty textres="library_recordtype_empty_starshipitem" />
			</string_record_name>
			<label_recordtype name="recordtype">
				<script>
					function update(sTitle)
						setValue(sTitle);
					end
				</script>
			</label_recordtype>	
		</sheetdata>
	</windowclass>

	<windowclass name="starshipitem_main">
		<margins control="0,0,0,2" />
		<script file="campaign/scripts/starshipitem_main.lua" />
		<sheetdata>
			<anchor_column name="columnanchor" />
			
			<label_column name="nonid_name_label">
				<static textres="item_label_unidentified" />
			</label_column>
			<string_columnh name="nonid_name" />
			
			<label_column name="nonidentified_label">
				<static textres="item_label_unidentifiednotes" />
			</label_column>
			<string_columnh name="nonidentified" />
			
			<line_column name="divider" />
			
			<label_column name="type_label">
				<static textres="starshipitem_label_type" />
			</label_column>
			<string_columnh name="type">
				<nohide />
				<delaykeyupdate />
				<script>
					function onValueChanged()
						window.update();
						if getValue() ~= nil then
							if window.subtype ~= nil and window.subtype.getValue() ~= "" then
								window.parentcontrol.window.header.subwindow.update(getValue() .. " (" .. window.subtype.getValue() .. ")");
							else
								window.parentcontrol.window.header.subwindow.update(getValue());
							end	
						end
					end
				</script>
			</string_columnh>

			<label_column name="subtype_label">
				<static textres="starshipitem_label_subtype" />
			</label_column>
			<string_columnh name="subtype">
				<delaykeyupdate />
				<script>
					function onValueChanged()
						window.update();
						if getValue() ~= nil then
							if window.type ~= nil and window.type.getValue() ~= "" then
								window.parentcontrol.window.header.subwindow.update(window.type.getValue() .. " (" .. getValue() .. ")");
							else
								window.parentcontrol.window.header.subwindow.update(window.type.getValue());
							end	
						end
					end
				</script>
			</string_columnh>

			<label_column name="category_label">
				<static textres="starshipitem_label_category" />
			</label_column>
			<string_columnh name="category" />
			
			<label_column name="pcu_label">
				<static textres="starshipitem_label_pcu" />
			</label_column>
			<number_columnh name="pcu" />

			<label_column name="cost_label">
				<static textres="starshipitem_label_cost" />
			</label_column>
			<string_columnh name="cost" />

			<line_column name="divider2" />
			
			<label_column name="size_label">
				<static textres="starshipitem_label_size" />
			</label_column>
			<string_columnh name="size" />

			<label_column name="pilotmod_label">
				<static textres="starshipitem_label_pilotmod" />
			</label_column>
			<number_columnh name="pilotmod" />

			<label_column name="bonus_label">
				<static textres="starshipitem_label_bonus" />
			</label_column>
			<number_columnh name="bonus" />

			<label_column name="bonusac_label">
				<static textres="starshipitem_label_bonusac" />
			</label_column>
			<number_columnh name="bonusac" />

			<label_column name="bonustl_label">
				<static textres="starshipitem_label_bonustl" />
			</label_column>
			<number_columnh name="bonustl" />

			<label_column name="nodes_label">
				<static textres="starshipitem_label_nodes" />
			</label_column>
			<number_columnh name="nodes" />

			<label_column name="special_label">
				<static textres="starshipitem_label_special" />
			</label_column>
			<string_columnh name="special" />

			<label_column name="enginerating_label">
				<static textres="starshipitem_label_enginerating" />
			</label_column>
			<number_columnh name="enginerating" />

			<label_column name="minpcu_label">
				<static textres="starshipitem_label_minpcu" />
			</label_column>
			<number_columnh name="minpcu" />

			<label_column name="maxsize_label">
				<static textres="starshipitem_label_maxsize" />
			</label_column>
			<string_columnh name="maxsize" />

			<label_column name="modifier_label">
				<static textres="starshipitem_label_modifier" />
			</label_column>
			<number_columnh name="modifier" />

			<line_column name="divider3" />

			<label_column name="totalsp_label">
				<static textres="starshipitem_label_totalsp" />
			</label_column>
			<number_columnh name="totalsp" />
			
			<label_column name="regen_label">
				<static textres="starshipitem_label_regen" />
			</label_column>
			<string_columnh name="regen" />

			<label_column name="speed_label">
				<static textres="starshipitem_label_speed" />
			</label_column>
			<number_columnh name="speed" />

			<label_column name="range_label">
				<static textres="starshipitem_label_range" />
			</label_column>
			<string_columnh name="range" />
			
			<label_column name="damage_label">
				<static textres="starshipitem_label_damage" />
			</label_column>
			<string_columnh name="damage" />

			<label_column name="specialproperties_label">
				<static textres="starshipitem_label_specialproperties" />
			</label_column>
			<string_columnh name="specialproperties" />

			
		</sheetdata>
	</windowclass>

	<windowclass name="starshipitem_other">
		<margins control="0,0,0,7" />
		<script>
			function onInit()
				update();
			end
			function update()
				local bReadOnly = WindowManager.getReadOnlyState(getDatabaseNode());
				description.setReadOnly(bReadOnly);
			end
		</script>
		<sheetdata>
			<anchor_column name="columnanchor" />
			
			<ft_columnh name="description">
				<footer>footer_wide</footer>
			</ft_columnh>
		</sheetdata>
	</windowclass>
	
</root>
