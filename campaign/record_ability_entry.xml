<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
	<template name="ability_action_castbutton">
		<button_abilityaction_use_rp name="castbutton">
			<anchored position="insidetopleft" offset="2,2" />
		</button_abilityaction_use_rp>
	</template>
	<template name="ability_action_castlabel">
		<label name="castlabel">
			<anchored to="castbutton" position="righthigh" offset="3,0" />
			<static textres="ability_label_use" />
		</label>
	</template>
	<template name="ability_action_attackbutton">
		<button_abilityaction name="attackbutton">
			<anchored to="castlabel" position="righthigh" offset="15,0" />
			<icon normal="button_action_attack" pressed="button_action_attack_down" />
			<subroll>atk</subroll>
		</button_abilityaction>
	</template>
	<template name="ability_action_attackviewlabel">
		<label name="attackviewlabel">
			<anchored to="attackbutton" position="righthigh" offset="3,0" />
			<static textres="ability_label_atk" />
		</label>
	</template>
	<template name="ability_action_attackview">
		<string_abilityactionview name="attackview">
			<anchored to="attackviewlabel" position="righthigh" offset="7,0" width="80" />
			<subroll>atk</subroll>
		</string_abilityactionview>
	</template>
	<template name="ability_action_rpviewlabel">
		<label name="rpviewlabel">
			<anchored to="attackview" position="righthigh" offset="5,0" />
			<static>RP</static>
		</label>
	</template>
	<template name="ability_action_rpview">		
		<basicnumber name="rpcost">
					<anchored to="rpviewlabel" position="righthigh" offset="5,0" height = "20" width= "25"/>
					<min>0</min>
					<hideonvalue value="0" />
					<tooltip textres="ability_tooltip_rpcost" />					
		</basicnumber>
	</template>
		
	<template name="ability_action_savebutton">
		<button_abilityaction name="savebutton">
			<anchored to="rpcost" position="righthigh" offset="15,0" />
			<subroll>save</subroll>
		</button_abilityaction>
	</template>
	<template name="ability_action_saveviewlabel">
		<label name="saveviewlabel">
			<anchored to="savebutton" position="righthigh" offset="3,0" />
			<static textres="save" />
		</label>
	</template>
	<template name="ability_action_saveview">
		<string_abilityactionview name="saveview">
			<anchored to="saveviewlabel" position="righthigh" offset="7,0" width="100" />
			<subroll>save</subroll>
		</string_abilityactionview>
	</template>
	<template name="ability_action_castdetailbutton">
		<button_poweractioneditor name="castdetail">
			<anchored to="castbutton" />
			<editor>ability_use_editor</editor>
		</button_poweractioneditor>
	</template>

	<template name="ability_action_damagebutton">
		<button_abilityaction name="damagebutton">
			<anchored position="insidetopleft" offset="2,2" />
			<icon normal="button_action_damage" pressed="button_action_damage_down" />
		</button_abilityaction>
	</template>
	<template name="ability_action_damagelabel">
		<label name="damagelabel">
			<anchored to="damagebutton" position="righthigh" offset="5,0" width="40" />
			<static textres="ability_label_dmg" />
		</label>
	</template>
	<template name="ability_action_damageview">
		<string_abilityactionview name="damageview">
			<anchored to="damagelabel" position="righthigh" offset="10,0">
				<right parent="" offset="-40" />
			</anchored>
		</string_abilityactionview>
	</template>
	<template name="ability_action_damagedetailbutton">
		<button_poweractioneditor name="damagedetail">
			<anchored to="damagebutton" />
			<editor>power_damage_editor</editor>
		</button_poweractioneditor>
	</template>
	
	<template name="ability_action_healbutton">
		<button_abilityaction name="healbutton">
			<anchored position="insidetopleft" offset="2,2" />
			<icon normal="button_action_heal" pressed="button_action_heal_down" />
		</button_abilityaction>
	</template>
	<template name="ability_action_heallabel">
		<label name="heallabel">
			<anchored to="healbutton" position="righthigh" offset="5,0" width="40" />
			<static textres="ability_label_heal" />
		</label>
	</template>
	<template name="ability_action_healview">
		<string_abilityactionview name="healview">
			<anchored to="heallabel" position="righthigh" offset="10,0">
				<right parent="" offset="-140" />
			</anchored>
		</string_abilityactionview>
	</template>
	<template name="ability_action_healtypelabel">
		<label name="healtypelabel">
			<anchored position="insidetopright" offset="90,2" />
			<static textres="power_label_healtype" />
		</label>
	</template>
	<template name="ability_action_healtype">
		<button_stringcycler name="healtype">
			<anchored position="insidetopright" offset="40,2" width="40" />
			<parameters>
				<defaultlabelres>power_label_healtypenormal</defaultlabelres>
				<labelsres>power_label_healtypesp|power_label_healtypetemp</labelsres>
					<values>sp|temp</values>
			</parameters>
		</button_stringcycler>
	</template>
	<template name="ability_action_healdetailbutton">
		<button_poweractioneditor name="healdetail">
			<anchored to="healbutton" />
			<editor>power_heal_editor</editor>
		</button_poweractioneditor>
	</template>

	<template name="ability_action_effectbutton">
		<button_abilityaction name="effectbutton">
			<anchored position="insidetopleft" offset="2,2" />
			<icon normal="button_action_effect" pressed="button_action_effect_down" />
		</button_abilityaction>
	</template>
	<template name="ability_action_effecttargeting">
		<button_iconcycler name="targeting">
			<anchored to="effectbutton" position="righthigh" offset="5,0" width="24" height="10" />
			<parameters>
				<icons>button_toggle_self</icons>
				<values>self</values>
				<tooltipsres>power_tooltip_targetself</tooltipsres>
				<defaulticon>button_toggle_trgt</defaulticon>
				<defaulttooltipres>power_tooltip_targetnormal</defaulttooltipres>
			</parameters>
		</button_iconcycler>
	</template>
	<template name="ability_action_effectapply">
		<button_iconcycler name="apply">
			<anchored to="targeting" position="below" offset="0,1" height="10" />
			<parameters>
				<icons>button_toggle_action|button_toggle_roll|button_toggle_single</icons>
				<values>action|roll|single</values>
				<tooltipsres>effect_tooltip_applyone|effect_tooltip_applyroll|effect_tooltip_applysingle</tooltipsres>
				<defaulticon>button_toggle_all</defaulticon>
				<defaulttooltipres>effect_tooltip_applyall</defaulttooltipres>
			</parameters>
		</button_iconcycler>
	</template>
	<template name="ability_action_effectlabel">
		<stringu name="label">
			<anchored height="20">
				<top offset="5" />
				<left parent="apply" anchor="right" offset="6" />
				<right offset="-130" />
			</anchored>
			<cursor hover="hand" />
			<script>
				function action(draginfo)
					AbilityManager.onAbilityAction(draginfo, window.getDatabaseNode());
				end
				
				function onDoubleClick(x, y)
					action();
					return true;
				end

				function onDragStart(button, x, y, draginfo)
					action(draginfo);
					return true;
				end
			</script>
		</stringu>
	</template>
	<template name="ability_action_effectdurationview">
		<simplestringc name="durationview">
			<anchored width="80" height="20">
				<top offset="5" />
				<right offset="-40" />
			</anchored>
			<frame name="fieldlight" offset="7,5,7,5" />
			<center />
			<nodrag />
			<readonly />
		</simplestringc>
	</template>
	<template name="ability_action_effectdetailbutton">	
		<button_poweractioneditor name="effectdetail">
			<anchored to="label" />
			<editor>power_effect_editor</editor>
		</button_poweractioneditor>
	</template>
	<template name="number_ability">
		<basicnumber>
			<anchored width="25" height="20" />
		</basicnumber>
	</template>
	<template name="number_abilitydc">
		<number_linked>
			<anchored width="25" height="20" />
			<frame name="fieldlight" offset="7,5,7,5" />
			<font>sheetnumber</font>
			<readonly />
			<source>
				<name>dc.misc</name>
				<op>+</op>
			</source>
			<source>
				<name>dc.abilitymod</name>
				<op>+</op>
			</source>
			<script>
				function onSourceUpdate()
					setValue(10 + calculateSources());
				end
			</script>
		</number_linked>
	</template>

	<template name="ability_action_skillselect">
    <button_stringcycler>
      <script>
        function onInit()          
		  local sSelections = "Skill";
		  local node = window.getDatabaseNode();
		
		  aSkillSelect = AbilityManager.getAvaliableSkills(node);
          for _, sSkill in pairs(aSkillSelect) do
            sSelections = sSelections .. "|" .. sSkill;			
          end	
          local sDefaultValue = DB.getValue(node, "skill_select", "Skill");		  
          super.onInit();
          super.initialize(sSelections, sSelections,sDefaultValue,sDefaultValue);
          super.updateDisplay();
		  onValueChanged();
        end
		
		function onValueChanged()
			local aSkills ={};
			local nSkillMod = 0;
			local node = window.getDatabaseNode();
			local nodeChar = window.getDatabaseNode().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent();
			aSkills = DB.getChildren(nodeChar, "skilllist");
			
			sSkill = getValue();
			
			for _,sSkillSet in pairs (aSkills) do
				sSkillName = DB.getValue(sSkillSet, "label", "");
				if sSkillName == sSkill then
					nSkillMod = DB.getValue(sSkillSet, "total",0);															 
				end
			end			
			DB.setValue(node, "skillmod", "number", nSkillMod);
			DB.setValue(node, "skill_select", "string", sSkill);
		end
      </script>
	  		<anchored to="atkplus" position="righthigh" offset="5,0" width="100" />		
    </button_stringcycler>
  </template>
	<windowclass name="ability_header">
		<margins control="0,0,0,2" />
		<script>
			function onInit()
				if not ActorManager.isPC(getDatabaseNode().getChild(".......")) then
					shortdescription.setVisible(true);					
				end				
			end
	
			function activatePower()
				parentcontrol.window.activatePower();				
			end			
			
			function onAbilityCounterUpdate()
				parentcontrol.window.windowlist.window.onAbilityCounterUpdate();
			end
			
		</script>
		<sheetdata>
			<anchor_column name="hanchor" />
			
			<genericcontrol name="usespacer">
				<anchored width="10" height="20">
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
			</genericcontrol>
			<basicnumber name="usesperday">
				<anchored width="20" height="20">
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
				<min>0</min>
				
			</basicnumber>
<!--
			<icon_usepower name="usepower">
				<anchored>
					<top offset="7" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
			</icon_usepower>

			<basicnumber name="cost">
				<anchored width="20" height="20">
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
				<min>0</min>
			</basicnumber>
			<genericcontrol name="cost_spacer">
				<anchored width="0" height="20">
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
				<disabled />
			</genericcontrol>
-->	
			<counter_ability name="counter">
				<anchored>
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
				</anchored>
			</counter_ability>

			<genericcontrol name="rightanchor">
				<anchored position="insidetopright" width="0" height="0" />
			</genericcontrol>
			<windowlist name="actionsmini">
				<anchored width="100">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<datasource>.actions</datasource>
				<class>ability_action_mini</class>
				<noscroll />
				<readonly />
				<columns width="25" fillwidth="true" />
				<invisible />
			</windowlist>
			<string_spell name="shortdescription">
				<anchored width="200" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<empty textres="ability_emptydesc" />
			</string_spell>
			
			<string_spell name="name">
				<anchored>
					<top offset="2" />
					<left parent="hanchor" anchor="right" relation="relative" offset="5" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<multilinespacing>20</multilinespacing>
				<empty textres="library_recordtype_empty_ability" />
				<script>
					function onDoubleClick(x, y)
						window.activatePower();
						
						return true;
					end
					
					function onDragStart(button, x, y, draginfo)
						local node = window.getDatabaseNode();
						if not node then
							return false;
						end
						
						local nLevel = 0;
						local nodeAbilityLevel = node.getChild("...");
						if nodeAbilityLevel then
							nLevel = tonumber(string.sub(nodeAbilityLevel.getName(), 6)) or 0;
						end
						
						draginfo.setType("abilitymove");
						draginfo.setStringData(getValue());
						draginfo.setNumberData(nLevel);
						draginfo.setDatabaseNode(node);
						
						return true;
					end
				</script>
			</string_spell>
		</sheetdata>
	</windowclass>
	
	<windowclass name="ability_action">
		<margins control="0,0,0,5" />
		<script file="campaign/scripts/ability_action.lua" />
		<sheetdata>
			<button_idelete name="idelete">
				<bounds>-22,3,20,20</bounds>
			</button_idelete>			
		</sheetdata>
	</windowclass>
	
	<windowclass name="ability_item">
		<margins control="0,0,0,2" />
		<script file="campaign/scripts/ability.lua" />
		<sheetdata>
			<genericcontrol name="rightanchor">
				<anchored width="0" height="0">
					<top offset="5" />
					<right />
				</anchored>
				<invisible />
			</genericcontrol>
			<button_idelete name="idelete">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_idelete>
			<linkcontrol name="shortcut">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
				<class>class_feature</class>
				<readonly />
			</linkcontrol>
			<button_toggledetail name="activatedetail">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-2" />
				</anchored>
			</button_toggledetail>

			<subwindow name="header">
				<anchored>
					<top />
					<left />
					<right parent="rightanchor" anchor="left" relation="relative" />
				</anchored>
				<class>ability_header</class>
				<activate />
				<fastinit />
			</subwindow>
			
			<windowlist name="actions">
				<anchored>
					<top parent="header" anchor="bottom" relation="relative" offset="5" />
					<left offset="10" />
					<right />
				</anchored>
				<noscroll />
				<datasource>.actions</datasource>
				<class>ability_action</class>
				<invisible />
			</windowlist>
		</sheetdata>
	</windowclass>
	
	<windowclass name="ability_level">
		<script file="campaign/scripts/ability_level.lua" />
		<sheetdata>
			<genericcontrol>
				<anchored height="24">
					<top />
					<left />
					<right />
				</anchored>
				<frame name="rowshade" />
				<script>
					function onClickDown(button, x, y)
						return window.onClickDown(button, x, y);
					end
					
					function onClickRelease(button, x, y)
						return window.onClickRelease(button, x, y);
					end					
				</script>
			</genericcontrol>
		<!--	
			<label name="label">
				<anchored position="insidetopleft" offset="10,2" width="160" />
				
			</label>
		-->	
			<stringu name="label">
				<anchored position="insidetopleft" offset="10,2" width="160" />
				<font>reference-b</font>
				<empty textres="abilityclass_emptyname" />
				
			</stringu>
			<label name="stats">
				<anchored to="label" position="righthigh" offset="10,0" />
				<disabled />
			</label>
			
			<button_iadd name="ability_iadd">
				<bounds>-50,2,20,20</bounds>
				<target>abilities</target>
			</button_iadd>

			<list_abilityitem name="abilities">
				<anchored>
					<top offset="24" />
					<left />
					<right />
				</anchored>
				<class>ability_item</class>
			</list_abilityitem>
		</sheetdata>
	</windowclass>
	
	<windowclass name="ability_class">
		<margins control="0,0,0,5" />
		<script file="campaign/scripts/ability_class.lua" />
		<sheetdata>
			<genericcontrol name="castertype">
				<bounds>10,10,20,20</bounds>
				<icon>caster_spontaneous</icon>
			</genericcontrol>
			<!--
			<button_iconcycler name="castertype">
				<bounds>10,10,20,20</bounds>
				<parameters>														
					<icons>caster_spontaneous</icons>
					<tooltipsres>ability_tooltip_casterspontaneous</tooltipsres>
					<values>spontaneous</values>					
					<nodefault />
				</parameters>
				<script>
					function onValueChanged()					
						window.onCasterTypeChanged();
					end
				</script>
			</button_iconcycler>
			-->
			<genericcontrol name="hanchor">
				<anchored width="0" height="0">
					<top />
					<right offset="-3" />
				</anchored>
				<invisible />
			</genericcontrol>
			<button_idelete name="idelete">
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_idelete>
			<button_toggledetail name="activatedetail">
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<anchored position="insidetopright" offset="8,12" />
			</button_toggledetail>
			<basicnumber name="pointsused">
				<anchored width="20" height="20">
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<min>0</min>
				<tooltip textres="spell_tooltip_ppused" />
				<tabtarget next="availablelevel0" prev="points"/>
				<script>
					function onValueChanged()
						window.onAbilityCounterUpdate();
					end
				</script>
			</basicnumber>
			<label name="label_pointsused">	
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<static>/</static>
			</label>
	
			<basicnumber name="points">
				<anchored width="20" height="20">
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<min>0</min>
				<tooltip textres="ability_tooltip_rp" />
				<tabtarget next="pointsused" prev="cl"/>
				<!--
				<script>
					function onInit()
						window.upDateAbilityClass()						
					end
				</script>
				-->
				<readonly />
			</basicnumber>
			<label name="label_points">
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<static textres="rp" />
			</label>
			<!--
			<button_cc name="button_cc">
				<anchored width="20" height="20">
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<tooltip textres="spell_tooltip_cc" />
			</button_cc>
			<label name="label_cc">
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<static textres="spell_label_cc" />
				<tooltip textres="spell_tooltip_cc" />
			</label>
			-->
			<basicnumber name="cl">
				<anchored width="20" height="20">
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<min>0</min>
				<tooltip textres="ability_tooltip_cl" />
				<tabtarget next="points" prev="label"/>
				<!--
				<script>					
					function onValueChanged()
						window.onStatUpdate();
					end
				</script>
				-->
			</basicnumber>
			<label name="label_cl">
				<anchored>
					<top offset="12" />
					<right parent="hanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<static textres="cl" />
				<tooltip textres="casterlevel" />
			</label>
			<button_stringcycler name="classlist">
				<anchored width="100" height="20">
					<top offset="12" />
					<right parent="label_cl" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<min>0</min>
				<!--<anchored to="label_mode" position="righthigh" offset="10,0" width="80" />-->
				<parameters>
					<labelsres>class_lable_envoy|class_lable_mechanic|class_lable_mystic|class_lable_operative|class_lable_solarian|class_lable_soldier|class_lable_technomancer|class_lable_char|class_lable_other</labelsres>
					<values>envoy|mechanic|mystic|operative|solarian|soldier|technomancer|character|other</values>
					<defaultlabelres>class_label_classtype_class</defaultlabelres>
				</parameters>	
				
				<script>
					function onValueChanged()
					
					local nodeParent = window.getDatabaseNode().getParent().getParent();
					local sClassSelect = (DB.getValue(w.getDatabaseNode(), "classlist", ""));
					local nClassLevel = 0;
					   for _,nodeClass in pairs (DB.getChildren(nodeParent, "classes")) do
						   sClass = DB.getValue(nodeClass, "name", ""):lower();
							if sClass == sClassSelect then
							   nClassLevel = DB.getValue(nodeClass, "level", "");
							   window.cl.setValue(nClassLevel);
								break;
							elseif sClassSelect == "character" then
								nCharLevel = DB.getValue(nodeParent, "level", 0);
								window.cl.setValue(nCharLevel);
							else
								window.cl.setValue(0);
							end
						end
					end
				</script>
			
			</button_stringcycler>
			<stringu name="label">
				<anchored height="20">
					<top offset="12" />
					<left parent="castertype" anchor="right" offset="5" />
					<right parent="classlist" anchor="left" relation="relative" offset="-5" />
				</anchored>
				<font>reference-b</font>
				<empty textres="abilityclass_emptyname" />
				<tabtarget next="cl" />
			</stringu>

			<genericcontrol name="detailanchor">
				<bounds>0,35,0,0</bounds>
			</genericcontrol>

			<genericcontrol name="frame_levels">
				<anchored width="325" height="55">
					<top parent="detailanchor" anchor="bottom" relation="relative" />
					<left offset="5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="availablelevel_label">
				<anchored to="frame_levels" position="insidetopleft" offset="15,10" />
				<static># of Sections</static>
			</label>
			<genericcontrol name="availablelevel">
				<anchored to="frame_levels" position="insidetopleft" offset="100,10" width="1" height="20" />
			</genericcontrol>
			<number_abilityavailable name="availablelevel01">
				<tabtarget next="availablelevel2" prev="pointsused"/>
			</number_abilityavailable>			
			
			
			<genericcontrol name="frame_dc">
				<anchored width="180" height="55">
					<top parent="detailanchor" anchor="bottom" relation="relative" />
					<left offset="5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			<label name="dc_label">
				<anchored to="frame_dc" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_basedc" />
			</label>
			<number name="dcstatmod" source="dc.abilitymod">
				<anchored to="frame_dc" position="insidetopleft" offset="75,25" width="30" height="20" />
				<font>sheetnumber</font>
				<readonly />
				<displaysign />
				<disabled />
			</number>
			<label_fieldtop name="dcstatmod_label">
				<anchored to="dcstatmod" />
				<static textres="spell_label_ability" />
			</label_fieldtop>
			<number_spell name="dcmisc" source="dc.misc">
				<anchored to="dcstatmod" position="righthigh" offset="5,0" width="15" />
				<tabtarget next="sp" prev="availablelevel9" />
			</number_spell>
			<label_fieldtop name="dcmisc_label">
				<anchored to="dcmisc" />
				<static textres="spell_label_misc" />
			</label_fieldtop>
			<number_spelldc name="dctotal" source="dc.total">
				<anchored to="dcmisc" position="righthigh" offset="10,0" />
				<description textres="spell_tooltip_basedc" />
			</number_spelldc>
			<label_fieldtop name="dctotal_label">
				<anchored to="dctotal" />
				<static textres="spell_label_total" />
			</label_fieldtop>
		
			<genericcontrol name="frame_stat">
				<anchored to="frame_dc" width="150" height="55">
					<top />
					<left anchor="right" offset="-5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="ability_label">
				<anchored to="frame_stat" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_baseability" />
			</label>
			<cycler_ability name="dcstat">
				<anchored to="frame_stat" position="insidetopleft" offset="80,25" width="50" height="20" />
				<source>
					<name>dc.ability</name>
				</source>
				<parameters>
					<defaultlabelres>dash</defaultlabelres>
				</parameters>
				<script>
					function onValueChanged()
						window.onStatUpdate();
					end
				</script>
			</cycler_ability>
			<label_fieldtop name="dcstat_label">
				<anchored to="dcstat" />
				<static textres="spell_label_ability" />
			</label_fieldtop>
<!--
			<genericcontrol name="frame_dc">
				<anchored width="180" height="55">
					<top parent="detailanchor" anchor="bottom" relation="relative" />
					<left offset="5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="dc_label">
				<anchored to="frame_dc" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_basedc" />
			</label>
			<number name="dcstatmod" source="dc.abilitymod">
				<anchored to="frame_dc" position="insidetopleft" offset="75,25" width="30" height="20" />
				<font>sheetnumber</font>
				<readonly />
				<displaysign />
				<disabled />
			</number>
			<label_fieldtop name="dcstatmod_label">
				<anchored to="dcstatmod" />
				<static textres="spell_label_ability" />
			</label_fieldtop>
			<number_spell name="dcmisc" source="dc.misc">
				<anchored to="dcstatmod" position="righthigh" offset="5,0" width="15" />
				<tabtarget next="sp" prev="availablelevel9" />
			</number_spell>
			<label_fieldtop name="dcmisc_label">
				<anchored to="dcmisc" />
				<static textres="spell_label_misc" />
			</label_fieldtop>
			<number_spelldc name="dctotal" source="dc.total">
				<anchored to="dcmisc" position="righthigh" offset="10,0" />
				<description textres="spell_tooltip_basedc" />
			</number_spelldc>
			<label_fieldtop name="dctotal_label">
				<anchored to="dctotal" />
				<static textres="spell_label_total" />
			</label_fieldtop>
		
			<genericcontrol name="frame_stat">
				<anchored to="frame_dc" width="150" height="55">
					<top />
					<left anchor="right" offset="-5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="ability_label">
				<anchored to="frame_stat" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_baseability" />
			</label>
			<cycler_ability name="dcstat">
				<anchored to="frame_stat" position="insidetopleft" offset="80,25" width="50" height="20" />
				<source>
					<name>dc.ability</name>
				</source>
				<parameters>
					<defaultlabelres>dash</defaultlabelres>
				</parameters>
				<script>
					function onValueChanged()
						window.onStatUpdate();
					end
				</script>
			</cycler_ability>
			<label_fieldtop name="dcstat_label">
				<anchored to="dcstat" />
				<static textres="spell_label_ability" />
			</label_fieldtop>
			
			<genericcontrol name="frame_sp">
				<anchored width="180" height="55">
					<top parent="detailanchor" anchor="bottom" relation="relative" />
					<left offset="5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="spmain_label">
				<anchored to="frame_sp" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_sp" />
			</label>
			<number_spell name="sp">
				<anchored to="frame_sp" position="insidetopleft" offset="140,25" />
				<script>
					function onValueChanged()
						window.onStatUpdate();
					end
				</script>
			</number_spell>
			<label_fieldtop name="sp_label">
				<anchored to="sp" />
				<static textres="spell_label_mod" />
			</label_fieldtop>
			
			<genericcontrol name="frame_cc">
				<anchored to="frame_sp" width="150" height="55">
					<top />
					<left anchor="right" offset="-5" />
				</anchored>
				<frame name="groupbox3" />
			</genericcontrol>
			
			<label name="label_cc">
				<anchored to="frame_cc" position="insidetopleft" offset="15,25" />
				<static textres="spell_label_ccdetail" />
			</label>
			<number_spell name="ccmisc" source="cc.misc">
				<anchored to="frame_cc" position="insidetopleft" offset="105,25" />
			</number_spell>
			<label_fieldtop name="ccmisc_label">
				<anchored to="ccmisc" />
				<static textres="spell_label_mod" />
			</label_fieldtop>
		-->
			<genericcontrol name="classframe">
				<anchored>
					<top offset="6" />
					<left offset="6" />
					<right offset="-6" />
					<bottom parent="detailanchor" relation="relative" anchor="bottom" offset="6" />
				</anchored>
				<frame name="groupbox2" offset="6,6,6,6" />
				<disabled />
			</genericcontrol>

			<list_abilitylevel name="levels">
				<anchored>
					<top parent="classframe" anchor="bottom" offset="8" />
					<left />
					<right />
				</anchored>
				<class>ability_level</class>
				<tabtarget prev="sp" />
			</list_abilitylevel>
		</sheetdata>
	</windowclass>
</root>
