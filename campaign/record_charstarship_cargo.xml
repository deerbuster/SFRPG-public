<?xml version="1.0" encoding="iso-8859-1"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>

	<windowclass name="charstarship_cargo">
		<sheetdata>
			<frame_char name="cargoframe">
				<bounds>15,5,-29,-70</bounds>
			</frame_char>
			
			<charstarship_label name="count_label">
				<anchored to="cargoframe" position="insidetopleft" offset="20,10" width="20" />
				<center />
				<static>#</static>
				<color>#808080</color>
			</charstarship_label>
			<genericcontrol name="rightanchor">
				<anchored to="cargoframe" width="0" height="0">
					<top offset="10" />
					<right offset="-20" />
				</anchored>
				<invisible />
			</genericcontrol>
			<genericcontrol name="idelete_header">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
				<disabled />
			</genericcontrol>
			<genericcontrol name="shortcut_header">
				<anchored to="rightanchor" width="20" height="20">
					<top />
					<right anchor="left" relation="relative" offset="-2" />
				</anchored>
				<disabled />
			</genericcontrol>
			<charstarship_label name="weight_label">
				<anchored to="rightanchor" width="30">
					<top />
					<right anchor="left" relation="relative" offset="-10" />
				</anchored>
				<center />
				<color>#808080</color>
				<static textres="charstarship_label_cargoweight" />
			</charstarship_label>
			<charstarship_label name="location_label">
				<anchored to="rightanchor" width="80">
					<top />
					<right anchor="left" relation="relative" offset="-10" />
				</anchored>
				<center />
				<static textres="charstarship_label_cargolocation" />
				<color>#808080</color>
			</charstarship_label>
			<charstarship_label name="name_label">
				<anchored to="rightanchor">
					<top />
					<right anchor="left" relation="relative" offset="-5" />
				</anchored>
				<static textres="charstarship_label_cargoname" />
				<color>#808080</color>
			</charstarship_label>	
			<list_text name="cargolist">
				<anchored to="cargoframe">
					<top offset="40" />
					<left offset="15" />
					<right offset="-20" />
					<bottom offset="-15" />
				</anchored>
				<datasource>.cargo</datasource>
				<class>charstarship_cargolistentry</class>
				<sortby><control>name</control></sortby>
				<newfocus>name</newfocus>
				<allowcreate />
				<allowdelete />
				<script>
					function onDrop(x, y, draginfo)
						local sDragType = draginfo.getType();
						if sDragType == "string" or sDragType == "starshipitem" or sDragType == "item" then
							return true;
						end
					end
				</script>	
			
			</list_text>
			<scrollbar>
				<anchored to="cargolist" />
				<target>cargolist</target>
			</scrollbar>		
			<button_iedit name="cargolist_iedit">
				<anchored to="cargolist" position="aboveright" offset="5,10" />
				<target>cargolist</target>
			</button_iedit>
			<button_iadd name="cargolist_iadd">
				<anchored to="cargolist_iedit" position="lefthigh" offset="5,0" />
				<target>cargolist</target>
			</button_iadd>
			
			<frame_char name="payloadframe">
				<bounds>15,500,-29,-10</bounds>
			</frame_char>
			
		</sheetdata>
	</windowclass>

	<windowclass name="charstarship_cargolistentry" >
		<margins control="0,0,0,2" />
		<sheetdata>
			<hidden_record_isidentified name="isidentified"><class>item</class><ignorehost /></hidden_record_isidentified>
		
			<charstarship_cargonumber name="count">
				<bounds>5,2,25,20</bounds>
				<tabtarget next="name" />
				<default>1</default>
			</charstarship_cargonumber>

			<genericcontrol name="rightanchor">
				<anchored width="0" height="0">
					<top />
					<right />
				</anchored>
				<invisible />
			</genericcontrol>
			<button_idelete name="idelete">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_idelete>
			<linkcontrol_id name="shortcut">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-2" />
				</anchored>
				<class>referencetext</class>
				<readonly />
			</linkcontrol_id>
			<button_charstarship_cargoonboard name="onboard">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-5" />
				</anchored>
			</button_charstarship_cargoonboard>
			<stringu name="bulk">
				<anchored width="20" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<invisible />
				<script>
					function onInit()
						onValueChanged();
					end
					function onValueChanged()
						local sBulk = getValue();						
							if getValue() == "" then
							   nWeight = 0;
							elseif getValue() == "L" then
								nWeight = (0.1);
							else
								nWeight = tonumber(getValue());
							end
						window.weight.setValue(nWeight);
					end				  
				</script>
				<tabtarget next="weight" prev="nonid_name" />
			</stringu>
			<charstarship_cargonumber name="weight">
				<anchored width="30" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<delaykeyupdate />
				<tabtarget prev="location" />
			</charstarship_cargonumber>			
			<button_stringcycler name="location">
				<anchored width="80" height="20">
					<top offset="2" />
					<right parent="rightanchor" anchor="left" relation="relative" offset="-10" />
				</anchored>
				<parameters>
					<labelsres>charstarship_cargonone|charstarship_cargocarried</labelsres>
					<values>none|carried</values>
				</parameters>
				<tabtarget next="weight" prev="nonid_name" />
			</button_stringcycler>			
			<charstarship_string name="name">
				<anchored position="insidetopleft" offset="35,2" height="20">
					<right parent="rightanchor" anchor="left" relation="current" offset="-5" />
				</anchored>
				<tabtarget next="nonid_name" prev="count" />
				<empty textres="charstarship_empty_cargoname" />
			</charstarship_string>
			<string_charinvname name="nonid_name">
				<anchored position="insidetopleft" offset="35,2" height="20">
					<right parent="rightanchor" anchor="left" relation="current" offset="-5" />
				</anchored>
				<empty textres="charstarship_empty_cargoname" />
				<invisible />
				<tabtarget next="location" prev="name" />
			</string_charinvname>
		</sheetdata>
	</windowclass>
</root>